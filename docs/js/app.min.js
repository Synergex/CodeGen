/*! HelpSmith Web Help System 4.0
* https://www.helpsmith.com
* Copyright (c) 2007-2024 Divcom Software */
'use strict';
function doRedirect () {
	var r = new redirect({
		topicTableJsonPath : 'data/topics.json',
		topicsDir : 'topics',
		defTopic : 2280,
		defUrl : '',
		cxSens: true
	});
	r.start();
}
var hsmApp = null;
function doAppStart () {
	hsmApp = new hsm({
		bodyCls : 'hs-side-panel80',
		tabsCls : '',
		topicExt : 'htm',
		
		topicTableJsonPath : '../data/topics.json',
		tocJsonPath : '../data/toc.json',
		kwdIndexJsonPath : '../data/index.json',
		searchIndexJsonPath : '../data/search.json',
		
		navWidth : 280,
		hlColors : [{"f":"Black","b":"#ffff66"},{"f":"Black","b":"#a0ffff"},{"f":"Black","b":"#99ff99"},{"f":"Black","b":"#ff9999"},{"f":"Black","b":"#ff66ff"},{"f":"White","b":"#880000"},{"f":"White","b":"#00aa00"},{"f":"White","b":"#886800"},{"f":"White","b":"#004699"},{"f":"White","b":"#990099"}],
		
		tocTreeExpandSpeed : 200,
		tocTreeCls : 'hs-icons hs-btn-corners hs-btn-i hs-btn-r',
		tocTreeAutoExpand : 0,
		tocTreeAutoCollapse : false,
		tocTreeNoButtons : false,
		tocTreeNoIcons : false,
		tocExpandOnStartup : -1,
		
		searchTreeCls : 'hs-icons',
		
		i18n : {
			sortMenuTitle : 'Sort by',
			sortMenuItemRank : 'Most relevant',
			sortMenuItemTitle : 'Topic title',
			searchNoTopicsFound : 'No topics found.',
			searchTopicsFound : '%s topic(s) found:',
			popupTopicsFound : 'Topics found',
			kwdNoEntry : 'To locate information about this keyword, please select one of the subentries in the list.'
		}
	});
	
	hsmApp.start();
}
function printTopic(){window.focus();window.print()}function hsmGetFileExt(a){if(a){var c=a.lastIndexOf(".");return 0<=c?a.substring(c+1,a.length):""}return""}function hsmGetIdxBkm(a){if(a){var c="",b=a.lastIndexOf("#");if(1<=b){var e=parseInt(a.substring(0,b));c=a.substring(b+1)}else e=parseInt(a);if(!Number.isNaN(e))return{idx:e,bkm:c}}return null}function redirect(a){this.options=$.extend({topicTableJsonPath:"data/topics.json",topicsDir:"",defTopic:10,defUrl:"",cxSens:!1},a)}
redirect.prototype.start=function(){var a=this;$.ajax({url:a.options.topicTableJsonPath,cache:!1,dataType:"json",success:function(c){a.topicTable=c;a.doRedirect()},error:function(c,b,e){console.error("Unable to load the topic table")}})};
redirect.prototype.getTopicData=function(a){if(!this.topicTable||!this.topicTable.length)return null;if("number"===typeof a){if(0<=a)for(var c=0;c<this.topicTable.length;c++)if(this.topicTable[c].cx==a)return this.topicTable[c]}else if("string"===typeof a&&a)for(c=0;c<this.topicTable.length;c++)if(this.topicTable[c].id==a)return this.topicTable[c];return null};
redirect.prototype.getFirstHrefTopicData=function(){if(!this.topicTable||!this.topicTable.length)return null;for(var a=0;a<this.topicTable.length;a++)if(this.topicTable[a].href)return this.topicTable[a];return null};
redirect.prototype.go=function(a){if(a){this.options.topicsDir&&(a=this.options.topicsDir+"/"+a);try{var c=new URL(a,location.href)}catch(b){console.error(b.message+' (Invalid redirect URL "'+a+'")');return}this.target&&(this.target.query&&c.searchParams.append("search",this.target.query),this.target.hash&&(c.hash=this.target.hash));window.location=c.href}};
redirect.prototype.redirectDefault=function(){if(0<=this.options.defTopic){var a=this.getTopicData(this.options.defTopic);if(a){this.go(a.href);return}}(a=this.getFirstHrefTopicData())&&this.go(a.href)};redirect.prototype.redirectUnk=function(){this.options.defUrl?window.location=this.options.defUrl:this.redirectDefault()};
redirect.prototype.getTarget=function(){if(!this.topicTable||!this.topicTable.length)return null;try{var a=new URL(location.href)}catch(e){return console.error(e.message+' (Invalid location URL: "'+location.href+'")'),null}if("undefined"===typeof a.searchParams.size||0==a.searchParams.size)return null;var c={},b=a.hash;b&&(c.hash=b);if(b=a.searchParams.get("search"))c.query=b;b=parseInt(a.searchParams.get("context"));if(0<=b)c.cx=b;else if(a=a.searchParams.get("id"))c.id=a;return c};
redirect.prototype.doRedirect=function(){var a=this.getTarget();if(a&&(this.target=a,this.options.cxSens)){if(a.cx){(a=this.getTopicData(a.cx))?this.go(a.href):this.redirectUnk();return}if(a.id){(a=this.getTopicData(a.id))?this.go(a.href):this.redirectUnk();return}}this.redirectDefault()};function hsEvent(a){this.name=a;this.callbacks=[]}hsEvent.prototype.registerCallback=function(a){this.callbacks.push(a)};
hsEvent.prototype.unregisterCallback=function(a){a=this.callbacks.indexOf(a);0<=a&&this.callbacks.splice(a,1)};function hsEventDispatcher(){this.events={}}hsEventDispatcher.prototype.registerEvent=function(a){var c=new hsEvent(a);this.events[a]=c};hsEventDispatcher.prototype.dispatchEvent=function(a,c){this.events[a].callbacks.forEach(function(b){b(c)})};hsEventDispatcher.prototype.addEventListener=function(a,c){this.events[a].registerCallback(c)};
hsEventDispatcher.prototype.removeEventListener=function(a,c){this.events[a].unregisterCallback(c)};
function hsm(a){this.topicContent="#topic-content";this.minSplitArea=50;this.options=$.extend({topicContainer:"article",bodyCls:"",tabsCls:"",topicExt:"htm",topicTableJsonPath:"data/topics.json",tocJsonPath:"data/toc.json",kwdIndexJsonPath:"data/index.json",searchIndexJsonPath:"data/search.json",splitMode:0,splitFx:!0,navWidth:320,hlColors:[{f:"black",b:"#ffff66"}],tocTreeExpandSpeed:100,tocTreeCls:"",tocTreeAutoExpand:0,tocTreeAutoCollapse:!1,tocTreeNoButtons:!1,tocTreeNoIcons:!1,tocExpandOnStartup:-1,
searchTreeCls:"",i18n:{sortMenuTitle:"Sort by",sortMenuItemRank:"Most relevant",sortMenuItemTitle:"Topic title",searchNoTopicsFound:"No topics found.",searchTopicsFound:"%s topic(s) found:",popupTopicsFound:"Topics found",kwdNoEntry:"To locate information about this keyword, please select one of the subentries in the list."}},a)}
hsm.prototype.start=function(){var a=this;history.scrollRestoration="manual";a.currLocation=location.href;a.eventDispatcher=new hsEventDispatcher;a.eventDispatcher.registerEvent("topicLoaded");var c="";location.hash&&(c=location.hash,location.hash="");$(function(){function b(d){d.preventDefault();var f=d.currentTarget;a.goLink(f.href,f.target,d.ctrlKey)}var e=$("body");e.addClass(a.options.bodyCls);c&&history.replaceState(null,"",location.href+c.substring(1));a.getPanelLoader("#hs-toc-panel");a.getPanelLoader("#hs-toc-index");
if(a.$topicContainer=$(a.options.topicContainer),!a.$topicContainer.length)throw Error('Invalid topic container element "'+a.options.topicContainer+'"');a.$topicContainer.on("click","a,map>area",b);$("#hs-header-d,#hs-header-m,#hs-footer").on("click","a,map>area",b);$(window).on("popstate.hsWebHelp",function(d){a.popStateChanged(d.originalEvent.state)}).on("resize.hsWebHelp",function(){a.isMobileMode()?a.mobileModeActive||(a.mobileModeActive=!0,a.mobileModeChanged(!0)):a.mobileModeActive&&(a.mobileModeActive=
!1,a.mobileModeChanged(!1));a.updateSALayout();a.hideSortingPopupMenu()}).trigger("resize.hsWebHelp");a.$nav=$("#hs-nav");a.initData();a.createTabs();a.initSplitter();a.updateMainLayoutPos(a.options.navWidth||320);a.navDefWidth=a.navWidth;e.hasClass("hs-slider")?a.navShowMode="slider":e.hasClass("hs-slider80")?a.navShowMode="slider80":e.hasClass("hs-side-panel")?a.navShowMode="side-panel":e.hasClass("hs-side-panel80")?a.navShowMode="side-panel80":a.navShowMode="";$("#hs-header-m .hs-menu-toggle").on("click",
function(){a.toggleNav()});e.on("keydown.hsWebHelp",function(d){switch(d.which){case 27:"hs-search-panel"==a.getActiveTabId()&&(d.preventDefault(),a.hideSortingPopupMenu());break;case 38:case 40:var f=$("#hs-popup-wrap .hs-popup-links");if(f.length){var g=f.find("li > a:focus");g.length?1==g.length&&(f=f.find("li > a"),g=f.index(g),0<=g&&(38==d.which?(d.preventDefault(),0<g&&f[--g].focus()):(d.preventDefault(),g<f.length-1&&f[++g].focus()))):(f=f.find("li > a"),f.length&&(40==d.which?(d.preventDefault(),
f.first().trigger("focus")):(d.preventDefault(),f.last().trigger("focus"))))}break;case 32:g=$("#hs-popup-wrap .hs-popup-links").find("li > a:focus"),g.length&&(d.preventDefault(),g.trigger("click"))}}).on("mousedown",function(d){if("hs-search-panel"==a.getActiveTabId()){var f=$("#sorting-popup-menu:visible");f.length&&!$(d.target).closest(f).length&&a.hideSortingPopupMenu()}});a.initSearch();a.topicLoaded();a.eventDispatcher.dispatchEvent("topicLoaded");a.procSearchRequest()})};
hsm.prototype.navAvail=function(){return this.$nav&&1==this.$nav.length};hsm.prototype.getNavWidth=function(){return this.navAvail()&&!this.isMobileMode()?this.$nav.offset().left+this.$nav.outerWidth():-1};hsm.prototype.isMobileMode=function(){return 1==$("#hs-header-m:visible").length};hsm.prototype.mobileModeChanged=function(a){$("html,body").scrollTop(0).scrollLeft(0);$("body").toggleClass("hs-mobile",a);this.updateHeadroom(a);this.updateMainLayoutPos(this.navWidth)};
hsm.prototype.isNavShown=function(){return 0==parseInt(this.$nav.css("left"))};hsm.prototype.toggleNav=function(){this.navAvail()&&this.showNav(!this.isNavShown())};
hsm.prototype.showNav=function(a,c){var b=this;if(b.navAvail()&&b.isMobileMode()&&!b.$nav.is(":animated")){var e=$("body");switch(b.navShowMode){case "slider":case "slider80":var d="slider80"==b.navShowMode,f=$("#topic-content #nsa-box"),g=b.isNavShown();if("undefined"===typeof a||a){if(!g){b.headroom&&(b.headroom.pin(),b.headroom.freeze());e.addClass("hs-menu-active");if(d){a=$("#hs-content");var n=a.find("> .hs-overlay");n.length||(n=$('<div class="hs-overlay"></div>').appendTo(a).on("click",function(){b.showNav(!1)}))}b.$nav.animate({left:0},
"fast",function(){e.addClass("hs-nav-active");$(this).css({left:""});"function"===typeof c&&c()});$("#hs-content").animate({left:d?"80%":"100%"},"fast",function(){$(this).css({left:""})});f.length&&f.animate({left:d?"80%":"100%"},"fast",function(){$(this).css({left:""})});d&&n.animate({opacity:.6},"fast")}}else g&&(b.headroom&&b.headroom.unfreeze(),e.removeClass("hs-menu-active"),d&&(a=$("#hs-content"),a.find("> .hs-overlay").animate({opacity:0},"fast",function(){$(this).remove()})),b.$nav.animate({left:d?
"-80%":"-100%"},"fast",function(){e.removeClass("hs-nav-active");$(this).css({left:""});"function"===typeof c&&c()}),$("#hs-content").animate({left:0},"fast",function(){$(this).css({left:""})}),f.length&&f.animate({left:0},"fast",function(){$(this).css({left:""})}));break;case "side-panel":case "side-panel80":d="side-panel80"==b.navShowMode,g=b.isNavShown(),"undefined"===typeof a||a?g||(b.headroom&&(b.headroom.pin(),b.headroom.freeze()),e.addClass("hs-menu-active"),d&&(a=$("#hs-content"),n=a.find("> .hs-overlay"),
n.length||(n=$('<div class="hs-overlay"></div>').appendTo(a).on("click",function(){b.showNav(!1)}))),b.$nav.animate({left:0,opacity:1},"fast",function(){e.addClass("hs-nav-active");$(this).css({left:"",opacity:""});"function"===typeof c&&c()}),d&&n.animate({opacity:.6},"fast")):g&&(b.headroom&&b.headroom.unfreeze(),e.removeClass("hs-menu-active"),d&&(a=$("#hs-content"),a.find("> .hs-overlay").animate({opacity:0},"fast",function(){$(this).remove()})),b.$nav.animate({left:d?"-80%":"-100%",opacity:0},
"fast",function(){e.removeClass("hs-nav-active");$(this).css({left:"",opacity:""});"function"===typeof c&&c()}))}}};hsm.prototype.loadTopicNeeded=function(a,c){return a&&c&&(a.pathname!==c.pathname||"undefined"!==typeof c.searchParams.size&&0<c.searchParams.size)};
hsm.prototype.popStateChanged=function(a){var c=this;a=!0;if(c.currLocation){try{var b=new URL(location.href)}catch(d){console.error(d.message+' (Invalid location URL: "'+location.href+'")');return}try{var e=new URL(c.currLocation)}catch(d){console.error(d.message+' (Invalid current location URL: "'+c.currLocation+'")');return}a=c.loadTopicNeeded(e,b)}a?c.doLoadTopic(location.href,function(){$("html,body").scrollTop(0).scrollLeft(0);c.currLocation=location.href;var d=c.selectTopicByURL(location.href);
d&&c.scrollToSelTocNode(d);c.followAnchor()}):(c.currLocation=location.href,c.followAnchor())};hsm.prototype.updateHeadroom=function(a){a?this.headroom||(a=$("header"),1==a.length&&(this.headroom=new Headroom(a.get(0),{offset:{up:100,down:50},tolerance:5,onPin:function(){$("body").removeClass("hs-nsa-top")},onUnpin:function(){$("body").addClass("hs-nsa-top")}}),this.headroom.init())):this.headroom&&(this.headroom.destroy(),this.headroom=null,$("body").removeClass("hs-nsa-top"))};
hsm.prototype.updateSALayout=function(a){"undefined"===typeof a&&(a=$("#topic-content #nsa-box"));a.length&&(this.isMobileMode()?$("#topic-content #sa-box").css("top",a.outerHeight()):$("#topic-content #sa-box").css("top",""))};hsm.prototype.topicLoaded=function(){var a=$("#topic-content #nsa-box");a.length?($("body").addClass("hs-has-nsa"),this.updateSALayout(a)):$("body").removeClass("hs-has-nsa")};
hsm.prototype.createTabs=function(){var a=this;a.$navTabs=$("#nav-tabs");a.$navTabs.hsTabs({onActivate:function(){switch(a.getActiveTabId()){case "hs-toc-panel":if(a.tocReady){var c=a.$tocTree.hsTree("getActiveNode");c&&a.$tocTree.hsTree("setNodeFocused",c)}break;case "hs-index-panel":$("input#kwd-search").trigger("focus");break;case "hs-search-panel":$("input#squery").trigger("focus")}}});a.$navTabs.addClass(a.options.tabsCls);a.$navTabs.hasClass("hs-tab-icons")&&$("<i></i>").prependTo(a.$navTabs.find("li>a"))};
hsm.prototype.getActiveTabId=function(){return this.$navTabs.hsTabs("getActiveTabId")};hsm.prototype.setActiveTabId=function(a){return this.$navTabs.hsTabs("setActiveTabId",a)};
hsm.prototype.doLoadTopic=function(a,c){var b=this;$.ajax({url:a,cache:!1,dataType:"html",success:function(e){e=$(e);var d=e.filter("title").text();document.title=d;e=e.find(b.topicContent);b.$topicContainer.find(b.topicContent).replaceWith(e);b.topicLoaded();c();b.eventDispatcher.dispatchEvent("topicLoaded")},error:function(e,d,f){$(b.topicContent).html('<span class="topic-load-error-message">Failed to load resource.</span>')}})};
hsm.prototype.createToc=function(a){function c(e){$.each(e,function(){if("undefined"!==typeof this.idx){var d=hsmGetIdxBkm(this.idx);if(d){var f=b.getTopicInfo(d.idx);f&&f.href&&("undefined"!==typeof f.cx?(this.href=f.href+(d.bkm?"#"+d.bkm:""),"undefined"===typeof this.title&&(this.title=f.title)):(this.href=f.href,this.title=f.title))}}this.children&&c(this.children);return!0})}var b=this;c(a);(function(e){b.$tocTree=$("#toc-tree");b.$tocTree.hsTree({expandSpeed:b.options.tocTreeExpandSpeed,autoExpand:b.options.tocTreeAutoExpand,
autoCollapse:b.options.tocTreeAutoCollapse,noButtons:b.options.tocTreeNoButtons,noIcons:b.options.tocTreeNoIcons,data:e,onActivate:function(d){b.tocScrollDisabledOnLoad=!0;var f=b.$tocTree.hsTree("getNodeTarget",d);f&&b.goTreeNaviLink(f.href,f.target,function(){b.scrollToSelTocNode(d,!1)})},onClick:function(d,f){if(d.ctrlKey){if((f=b.$tocTree.hsTree("getNodeTarget",f))&&"#"!=f.href)return b.goLink(f.href,"",!0),!0}else(d=b.$tocTree.hsTree("getActiveNode"))&&d.is(f)&&(f=b.$tocTree.hsTree("getNodeTarget",
f))&&"#"!=f.href&&b.isLinkExt(f.href)&&b.$tocTree.hsTree("reActivateNode")},onCreateNode:function(d,f){!b.$tocTree.noIcons&&f.icon&&d.addClass(f.icon)}})})(a);b.$tocTree.addClass(b.options.tocTreeCls);!b.options.tocTreeAutoCollapse&&0<=b.options.tocExpandOnStartup&&b.$tocTree.hsTree("expandAll",b.options.tocExpandOnStartup);(a=b.selectTopicByURL(location.href))&&b.scrollToSelTocNode(a);b.followAnchor();b.$tocTree.addClass("hs-ani")};
hsm.prototype.createIndex=function(a){function c(e){$.each(e,function(){var d=b.getTopicLinks(this.idx,1);d&&d.length&&(this.href=d[0].href);this.children&&c(this.children);return!0})}var b=this;c(a);(function(e){b.$indexTree=$("#index-tree");b.$indexTree.hsTree({expandSpeed:0,noButtons:!0,noIcons:!0,data:e,onActivate:function(d){var f=d.data("idx");if(f&&(f=b.getTopicLinks(f))&&1<f.length){b.showKwdTopicList(d,f);return}(f=b.$indexTree.hsTree("getNodeTarget",d))&&f.href&&"#"!=f.href?b.goTreeNaviLink(f.href):
b.showKwdNoEntryWarning(d)},onClick:function(d,f){(d=b.$indexTree.hsTree("getActiveNode"))&&d.is(f)&&b.$indexTree.hsTree("reActivateNode")},onQueryExpand:function(d,f){if(!f)return!1},onCreateNode:function(d,f){d.data("idx",f.idx)}});b.$indexTree.find(".hstree-node").each(function(){b.$indexTree.hsTree("expandNode",$(this))})})(a);$("input#kwd-search").on("keyup",function(e){b.selectKeyword($(this),e.which)})};
hsm.prototype.initSearch=function(){var a=this,c=$.cookie("hswh-ssd");a.searchResultSortKind="title"!=c&&"rank"!=c?"rank":c;c=$("#search-form");if(c.length){var b=c.find("input#squery");c.find(".search-btn").on("click",function(d){d.preventDefault();e()});b.on("keyup",function(d){13==d.which&&(d.preventDefault(),e())});function e(){a.search({query:b.val(),matchMode:$('input[type="radio"][name="match"]:checked').val()})}}};
hsm.prototype.getTopicLinks=function(a,c){if("undefined"===typeof a)return null;a=a.split(",");if(a.length){var b=a.length;"undefined"!==typeof c&&0<=c&&c<b&&(b=c);c=[];for(var e=0;e<b;e++){var d=hsmGetIdxBkm(a[e]);if(d){var f=this.getTopicInfo(d.idx);f&&f.href&&c.push({title:f.title,href:f.href+(d.bkm?"#"+d.bkm:"")})}}return c.length?c:null}return null};
hsm.prototype.selectKeyword=function(a,c){function b(n,m,t){var y=null,w=0,r;if(n.length&&t<m.length){var l=/[.;,:()_{}"\/\\|<>!\?\[\]\-\+\*=%&@#]/g,p=$.trim(m[t]);p&&=p.replace(l,"");if(p){p=p.toLowerCase();for(var k=0;k<n.length;k++){var h=$(n[k]);(r=h.data("title"))&&(r=r.replace(l,""));if(r&&(r=r.toLowerCase(),r.charAt(0)==p.charAt(0))){if(r.substring(0,p.length)==p){y=h;break}a:{for(var u=p.substring(0,p.length-1);""!=u;u=u.substring(0,u.length-1))if(r.substring(0,u.length)==u){r=u.length;break a}r=
0}r>w&&(y=h,w=r)}}}}return y?(n=b(d.$indexTree.hsTree("getChildren",y),m,++t))?n:y:null}function e(){d.hlKeywordNode&&d.hlKeywordNode.removeClass("hs-highlight")}var d=this;if(d.specKeyPressedOnPopupLink)d.specKeyPressedOnPopupLink=!1;else{var f=null;a=a.val().split(",");a.length&&(f=b(d.$indexTree.hsTree("getChildren"),a,0));(function(n){n?d.hlKeywordNode&&n.is(d.hlKeywordNode)||(e(),d.hlKeywordNode=n,d.hlKeywordNode&&d.hlKeywordNode.addClass("hs-highlight")):(e(),d.hlKeywordNode=null)})(f);(function(){var n=
0;d.hlKeywordNode&&(g=d.$indexTree.find("> ul.hstree-root > li:first-child"),g.length&&(g.is(d.hlKeywordNode)||(n=d.hlKeywordNode.position().top+d.$indexTree.scrollTop())));d.$indexTree.scrollTop(n)})();if(13==c&&d.hlKeywordNode){var g=d.$indexTree.hsTree("getActiveNode");g&&g.is(d.hlKeywordNode)?d.$indexTree.hsTree("reActivateNode"):d.$indexTree.hsTree("setActiveNode",d.hlKeywordNode)}}};
hsm.prototype.goTreeNaviLink=function(a,c,b){var e=this;a&&"#"!=a&&(e.isMobileMode()?e.showNav(!1,function(){e.goLink(a,c,!1,b)}):e.goLink(a,c,!1,b))};
hsm.prototype.showKwdTopicList=function(a,c){var b=this;b.popup||(b.popup=new popupBox({title:b.i18n("popupTopicsFound","Topics found"),onShow:function(e,d){var f=a.data("idx");if(f&&(f=b.getTopicLinks(f))&&f.length){for(var g=$('<div class="hs-popup-links"></div>'),n=$("<ul></ul>").appendTo(g),m=0;m<f.length;m++){var t=f[m],y=$("<li></li>").appendTo(n);$("<a></a>").appendTo(y).text(t.title).attr("href",t.href).on("click",function(w){w.preventDefault();b.goTreeNaviLink($(this).attr("href")||"#","");
e.close()})}g.appendTo(d)}},onClose:function(){b.popup=null;var e=b.$indexTree.hsTree("getActiveNode");e&&b.$indexTree.hsTree("setNodeFocused",e)}}),b.popup.show())};hsm.prototype.showKwdNoEntryWarning=function(){var a=this;a.popup||(a.popup=new popupBox({onShow:function(c,b){$('<div class="hs-popup-message"></div>').text(a.i18n("kwdNoEntry","To locate information about this keyword, please select one of the subentries in the list.")).appendTo(b)},onClose:function(){a.popup=null}}),a.popup.show())};
hsm.prototype.scrollToSelTocNode=function(a,c){var b=$("#hs-toc-panel");if(b.length&&(a=a||this.$tocTree.hsTree("getActiveNode"))){var e=a.find(">a");if(e.length){a=b.height();var d=e.position();e=e.outerHeight(!0);if("undefined"===typeof c||c)if(0>d.top-b.scrollTop()||d.top+e-b.scrollTop()>a)c=d.top-(a/2-e/2);else return;else if(0>d.top-b.scrollTop())c=d.top-2;else if(d.top+e-b.scrollTop()>a)c=d.top+e-a+2;else return;b.animate({scrollTop:c},"fast")}}};
hsm.prototype.getTopicInfo=function(a){return this.topicTable&&0<=a&&a<this.topicTable.length?this.topicTable[a]:null};
hsm.prototype.initData=function(){function a(e,d){$('<span class="error-message"></span>').text(e).appendTo(d)}function c(){b.topicTable&&b.tocData&&!b.tocReady&&(b.tocReady=!0,b.createToc(b.tocData));b.topicTable&&b.indexData&&!b.indexReady&&(b.indexReady=!0,b.createIndex(b.indexData));b.hasSearchQuery&&(b.topicTable||b.topicTableDataError)&&b.search(b.hasSearchQuery)}var b=this;$("body");b.loadJson(b.options.topicTableJsonPath,{success:function(e){b.topicTable=e},error:function(){a("Error: Unable to load topics table.",
"#hs-toc-panel");b.topicTableDataError=!0},complete:function(){c();b.removePanelLoader("#hs-toc-panel")}});b.loadJson(b.options.tocJsonPath,{success:function(e){b.tocData=e},error:function(){a("Error: Unable to load TOC data.","#hs-toc-panel")},complete:function(){c();b.removePanelLoader("#hs-toc-panel")}});b.loadJson(b.options.kwdIndexJsonPath,{success:function(e){b.indexData=e},error:function(){a("Error: Unable to load keyword index data.","#index-tree")},complete:function(){c();b.removePanelLoader("#hs-index-panel")}})};
hsm.prototype.loadJson=function(a,c){a&&$.ajax({url:a,cache:!1,dataType:"json",success:function(b,e,d){c&&"undefined"!==typeof c.success&&c.success(b,e,d)},error:function(b,e,d){c&&"undefined"!==typeof c.error&&c.error(b,e,d)},complete:function(b,e){c&&"undefined"!==typeof c.complete&&c.complete(b,e)}})};hsm.prototype.correctNavWidth=function(a){var c=$(window).width();a<this.minSplitArea?a=this.minSplitArea:a>c-this.minSplitArea&&(a=c-this.minSplitArea);return a};
hsm.prototype.initSplitter=function(){var a=this;a.navAvail()&&(a.$splitter=$('<div id="hs-splitter"></div>').appendTo("body").on("mousedown.hsSplitter",function(c){if(1==c.which){c.stopPropagation();a.hideSortingPopupMenu();var b=c.clientX,e=a.getNavWidth(),d=!1;$(document).on("mousemove.hsSplitter",function(f){d||(d=!0,$("body").addClass("hs-splitting"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():
document.selection&&document.selection.empty());a.updateMainLayoutPos(a.correctNavWidth(e+(f.clientX-b)),!1,0==a.options.splitMode)}).on("mouseup.hsSplitter",function(f){$(document).off("mousemove.hsSplitter mouseup.hsSplitter");0==a.options.splitMode&&a.updateMainLayoutPos(a.$splitter.offset().left,!0);$("body").removeClass("hs-splitting")})}}).on("dblclick.hsSplitter",function(c){c.stopPropagation();a.updateMainLayoutPos(a.navDefWidth)}),$(window).on("resize.hsSplitter",function(){var c=$("#hs-content");
a.$splitter.css({top:c.offset().top,height:c.outerHeight()});a.$splitter.is(":visible")&&(c=$(window).outerWidth(),c<a.getNavWidth()+a.minSplitArea&&a.updateMainLayoutPos(c-a.minSplitArea))}).trigger("resize.hsSplitter"))};
hsm.prototype.updateMainLayoutPos=function(a,c,b){this.isMobileMode()?(b=$("#hs-content"),b.css({left:""}),this.navWidth=a):this.navAvail()&&this.$splitter&&1==this.$splitter.length&&(this.navWidth=this.correctNavWidth(a),"undefined"!==typeof b&&b||(b=$("#hs-content"),this.options.splitFx&&"undefined"!==typeof c&&c?(this.$nav.stop().animate({width:this.navWidth},"fast"),b.stop().animate({left:this.navWidth},"fast")):(this.$nav.stop().css({width:this.navWidth}),b.stop().css({left:this.navWidth}))),
this.$splitter.css({left:this.navWidth}))};
hsm.prototype.isLinkExt=function(a){try{var c=new URL(location.href)}catch(f){return console.error(f.message+' (Invalid location URL: "'+location.href+'")'),!1}try{var b=new URL(a,c)}catch(f){return console.error(f.message+' (Invalid link URL: "'+a+'")'),!1}if(b.protocol!==c.protocol||b.host!==c.host)return!0;a=c.pathname.split("/");var e=b.pathname.split("/");if(a.length!==e.length)return!0;for(var d=0;d<a.length-1;d++)if(a[d]!==e[d])return!0;c=hsmGetFileExt(c.pathname);c||(c=self.options.topicExt);
c&&=c.toLowerCase();(b=hsmGetFileExt(b.pathname))&&(b=b.toLowerCase());return c?c!==b:"htm"!==b&&"html"!==b&&"php"!==b};hsm.prototype.goExtLink=function(a,c){a:{var b=["mailto:","javascript:"];for(var e=0;e<b.length;e++)if(a.substring(0,b[e].length).toLowerCase()==b[e]){b=!0;break a}b=!1}b?location.href=a:window.open(a,c)};
hsm.prototype.goTopicLink=function(a,c){var b=this;try{var e=new URL(location.href)}catch(f){console.error(f.message+' (Invalid location URL: "'+location.href+'")');return}try{var d=new URL(a,e)}catch(f){console.error(f.message+' (Invalid link URL: "'+a+'")');return}b.loadTopicNeeded(e,d)?b.doLoadTopic(d.href,function(){b.currLocation=d.href;history.pushState(null,"",d.href);var f=b.selectTopicByURL(location.href);!b.tocScrollDisabledOnLoad&&f&&b.scrollToSelTocNode(f);b.tocScrollDisabledOnLoad=!1;
b.followAnchor();"function"===typeof c&&c()}):(decodeURIComponent(e.hash)!==decodeURIComponent(d.hash)&&history.pushState(null,"",d.href),b.followAnchor(),"function"===typeof c&&c())};hsm.prototype.goLink=function(a,c,b,e){"undefined"!==typeof b&&b||"_blank"==c||this.isLinkExt(a)?(this.goExtLink(a,c),"function"===typeof e&&e()):this.goTopicLink(a,e)};
hsm.prototype.selectTopicByURL=function(a){if(!this.$tocTree||!a)return null;var c=this.$tocTree.hsTree("getActiveNode");if(c&&this.$tocTree.hsTree("checkNodeURL",c,a))return c;c=this.$tocTree.hsTree("getNodeByURL",a);if(!c)return null;this.$tocTree.hsTree("setActiveNode",c,!0);return c};
hsm.prototype.followAnchor=function(a){var c=$(this.topicContent);if(c.length){var b=decodeURIComponent(location.hash.substring(1));if(b){var e=c.find('a[name="'+b+'"]');e.length||(e=c.find("#"+b));e.length?this.scrollTo(e,null,{x:-15,y:0},!0,a):this.scrollTo(null,{left:0,top:0},null,!0,a)}else this.scrollTo(null,{left:0,top:0},null,!1,a)}};
hsm.prototype.scrollTo=function(a,c,b,e,d){var f=this,g=f.isMobileMode()?null:$(f.topicContent).find("#content-box").parent();b||={x:0,y:0};if(a||c)a=a?a.offset():c,a.top+=g?g.scrollTop()-g.offset().top+b.y:0,a.left+=g?g.scrollLeft()-g.offset().left+b.x:0,function(n,m){m?e?m.animate({scrollTop:n.top,scrollLeft:n.left},"fast",function(){"function"===typeof d&&d()}):(m.scrollTop(n.top).scrollLeft(n.left),"function"===typeof d&&d()):(f.headroom&&(f.headroom.pin(),f.headroom.freeze()),m=$("#topic-content #nsa-box"),
m=$("header").outerHeight(!0)+(m.length?m.outerHeight(!0):0),e?$("html,body").animate({scrollTop:n.top-m,scrollLeft:n.left},"fast",function(){f.headroom&&f.headroom.unfreeze();"function"===typeof d&&d()}):($("html,body").scrollTop(n.top-m).scrollLeft(n.left),f.headroom&&f.headroom.unfreeze(),"function"===typeof d&&d()))}(a,g)};hsm.prototype.getPanelLoader=function(a){var c=$(a).find(".hs-loader");return c.length?c:$('<div class="hs-loader"></div>').append($("<span></span>")).prependTo($(a))};
hsm.prototype.removePanelLoader=function(a){$(a+" .hs-loader").animate({opacity:0},"fast",function(){$(this).remove()})};hsm.prototype.i18n=function(a,c,b){a=this.options.i18n[a]||c;return"undefined"!==b?a.replaceAll("%s",b):a};
hsm.prototype.search=function(a){function c(m){var t=new searchEngine(m,g.topicTable);t.search(n.query,"phrase"==n.matchMode)?b(t.resultItems,t.searchMatch):f(g.i18n("searchNoTopicsFound","No topics found."));m=t.actualQuery;t=t.searchMatch;$("input#squery").val(m);t==searchMatch.Phrase?$("input#phrase").prop("checked",!0):$("input#anywords").prop("checked",!0)}function b(m,t){for(var y=[],w=0;w<m.length;w++){var r=m[w],l={};l.title=r.getTitle();l.href=r.getRef();var p=r.getIconClass();p&&(l.icon=
p);l.rank=r.rank;l.topicIndex=r.topicIndex;l.hlWords=r.getWordsStrValue();l.match=t;y.push(l)}e(g.i18n("searchTopicsFound","%s topic(s) found:",m.length));g.$searchResultTree=$('<div id="search-result-tree"></div>').appendTo("#search-result");g.$searchResultTree.addClass(g.options.searchTreeCls);g.$searchResultTree.hsTree({noButtons:!0,data:y,onActivate:function(k){var h=g.$searchResultTree.hsTree("getNodeTarget",k);h&&g.goTreeNaviLink(h.href,h.target,function(){g.hlWordsClear();g.hlWords(k.data("hsHLWords"),
k.data("hsMatch"))})},onDeactivate:function(k){k.addClass("visited-topic")},onClick:function(k,h){if(k.ctrlKey){if((h=g.$searchResultTree.hsTree("getNodeTarget",h))&&"#"!=h.href)return g.goLink(h.href,"",!0),!0}else if((k=g.$searchResultTree.hsTree("getActiveNode"))&&k.is(h))return g.$searchResultTree.hsTree("reActivateNode"),!0},onCreateNode:function(k,h){k.addClass(h.icon);k.data({hsRank:h.rank,hsTopicIndex:h.topicIndex,hsHLWords:h.hlWords,hsMatch:h.match})}});g.sortSearchResult(g.searchResultSortKind)}
function e(m){var t=$('<div id="sort-result-header"></div>'),y=$("<div></div>").appendTo(t);$('<span class="se-message"></span>').text(m).appendTo(y);m=$("<div></div>").appendTo(t);var w=$('<div id="sort-control" class="text-label"></div>').text(g.i18n("sortMenuTitle","Sort by")).on("click",function(r){r.stopPropagation();w.find("#sorting-popup-menu:visible").length||g.showSortingPopupMenu(w)});w.appendTo(m).append(d());$("#search-result").empty().append(t)}function d(){function m(y,w,r,l){$('<li id="'+
w+'" class="menu-item"></li>').text(r).appendTo(y).on("click",l)}var t=$('<ul id="sorting-popup-menu"></ul>');m(t,"sort-by-rank",g.i18n("sortMenuItemRank","Most relevant"),function(y){y.stopPropagation();g.hideSortingPopupMenu();g.sortSearchResult(g.searchResultSortKind="rank")});m(t,"sort-by-title",g.i18n("sortMenuItemTitle","Topic title"),function(y){y.stopPropagation();g.hideSortingPopupMenu();g.sortSearchResult(g.searchResultSortKind="title")});return t}function f(m){var t=$('<div id="sort-result-header"></div>');
$('<span class="se-message"></span>').text(m).appendTo(t);$("#search-result").empty().append(t)}var g=this,n=$.extend({query:"",matchMode:"anywords"},a);if(g.topicTableDataError)f("Error: Unable to load topic table."),g.removePanelLoader("#hs-search-panel");else if(g.topicTable)if(g.hasSearchQuery=null,g.searchIndex){g.getPanelLoader("#hs-search-panel");try{c(g.searchIndex)}finally{g.removePanelLoader("#hs-search-panel")}}else g.getPanelLoader("#hs-search-panel"),g.loadJson(g.options.searchIndexJsonPath,
{success:function(m){g.searchIndex=m;c(m)},error:function(){f("Error: Unable to load search index.")},complete:function(){g.removePanelLoader("#hs-search-panel")}});else g.getPanelLoader("#hs-search-panel"),g.hasSearchQuery=n};
hsm.prototype.showSortingPopupMenu=function(a){switch(this.searchResultSortKind){case "title":a.find("#sort-by-title").addClass("menu-item-checked");a.find("#sort-by-rank").removeClass("menu-item-checked");break;case "rank":a.find("#sort-by-title").removeClass("menu-item-checked"),a.find("#sort-by-rank").addClass("menu-item-checked")}var c=$("#sorting-popup-menu"),b=a.offset(),e=!0,d=b.top+a.outerHeight()+12;d+c.outerHeight(!0)>$(window).height()&&(d=b.top-c.outerHeight(!0)-12,e=!1);c.css({top:d,
left:b.left+a.outerWidth()-c.outerWidth()});e?(c.addClass("pos-bottom"),c.removeClass("pos-top")):(c.addClass("pos-top"),c.removeClass("pos-bottom"));c.stop(!0,!0).fadeIn("fast")};hsm.prototype.hideSortingPopupMenu=function(){$("#sorting-popup-menu:visible").stop(!0,!0).fadeOut("fast")};
hsm.prototype.sortSearchResult=function(a){var c=function(b,e){return b.data("title").localeCompare(e.data("title"))};this.$searchResultTree.hsTree("sortChildren","title"==a?c:function(b,e){return b.data("hsRank")==e.data("hsRank")?c(b,e):e.data("hsRank")-b.data("hsRank")});$.cookie("hswh-ssd",this.searchResultSortKind,{expires:30,path:"/"})};
hsm.prototype.procSearchRequest=function(){if(this.navAvail()){try{var a=new URL(location.href)}catch(b){console.error(b.message+' (Invalid location URL: "'+location.href+'")');return}var c=a.searchParams.get("search");c&&(this.setActiveTabId("hs-search-panel"),this.search({query:c,matchMode:a.searchParams.get("match")||""}))}};
hsm.prototype.hlWords=function(a,c){function b(l){function p(A){if(A.nodeType==Node.TEXT_NODE){0<v&&h.push({node:A,index:0});for(var z=A.data.toLowerCase();v<k.length;){if(q>=z.length){q=0;h.length&&h.push({node:A,index:z.length-1});break}var C=k[v];if(0==v){h=[];var B=g(z,C.word,q);if(0<=B)h.push({node:A,index:B}),B=B+C.word.length-1,1==k.length?(h.push({node:A,index:B}),u.push(h),h=[],v=0):(x=!0,v++),q=B+1;else{q=0;break}}else x?(x=!1,C.lead&&(C.lead==z.charAt(q)||" "==C.lead&&"\u00a0"==z.charAt(q))?
q++:v=0):(B=q+C.word.length-1,z.substring(q,B+1)==C.word&&f(z,C.word,q)?v==k.length-1?(h.push({node:A,index:B}),u.push(h),h=[],v=0,q=B+1):(x=!0,q+=C.word.length,v++):v=0)}}else if(A.nodeType==Node.ELEMENT_NODE&&A.tagName&&(z=A.tagName.toLowerCase(),A.childNodes&&"script"!=z&&"style"!=z))if("br"==z)q=v=0;else for(z=0;z<A.childNodes.length;++z)p(A.childNodes[z])}var k=y(l);if(k){var h=[],u=[],x=!1,q=0,v=0;w.$topicContainer.length&&(p(w.$topicContainer.get(0)),n(u,0))}}function e(l){function p(u,x){if(u.nodeType==
Node.TEXT_NODE){var q=g(u.data.toLowerCase(),x.word);0<=q&&k.push([{node:u,index:q},{node:u,index:q+x.word.length-1}])}else if(u.nodeType==Node.ELEMENT_NODE&&u.tagName&&(q=u.tagName.toLowerCase(),u.childNodes&&"script"!=q&&"style"!=q))for(q=0;q<u.childNodes.length;++q)p(u.childNodes[q],x)}if(l=t(l))for(var k=[],h=0;h<l.length;h++)p(w.$topicContainer.get(0),l[h]),n(k,l[h].index),k=[]}function d(l){return 0<=" .;,:()_{}\"/\\|<>!?[]-+*=%&@#'\n\r\t\u00a0\u2018\u2019\u201c\u201d\u00ab\u00bb".indexOf(l)}
function f(l,p,k){return(0==k||d(l.charAt(k-1)))&&(k+p.length==l.length||d(l.charAt(k+p.length)))}function g(l,p,k){for("undefined"===typeof k&&(k=0);;){k=l.indexOf(p,k);if(0>k)return-1;if(f(l,p,k))break;k+=p.length}return k}function n(l,p){if(p=m(p))for(var k=l.length-1;0<=k;k--){var h=l[k];if(0==h.length%2)for(var u=h.length-1;1<=u;u-=2){var x=h[u-1],q=h[u];if(x.node==q.node&&x.index<=q.index){var v=x.node;var A=x.index;q=q.index-x.index+1;var z=p;0>=q||!z?v=null:(x=document.createElement("span"),
x.style.color=z.f,x.style.backgroundColor=z.b,x.style.fontWeight="bold",v=v.splitText(A),v.splitText(q),A=v.cloneNode(!0),x.appendChild(A),v.parentNode.replaceChild(x,v),x.setAttribute("class","hs-hlsearch"),v=x);v&&(v=$(v),!r||v.offset().top<r.offset().top)&&(r=v)}}}}function m(l){return w.options.hlColors&&w.options.hlColors.length?w.options.hlColors[l%w.options.hlColors.length]:null}function t(l){if(!l)return null;for(var p=[],k=/(.+?)\[(\d+)\]/g,h;h=k.exec(l);)p.push({word:h[1],index:h[2]});return p.length?
p:null}function y(l){if(!l)return null;for(var p=[],k=/(.+?)\[(.|)\]/g,h;h=k.exec(l);)p.push({word:h[1],lead:h[2]});return p.length?p:null}var w=this;if(m(0)){var r=null;c==searchMatch.Phrase?b(a):e(a);r&&w.scrollTo(null,{top:r.offset().top,left:0},null,!1)}};hsm.prototype.hlWordsClear=function(){$(".hs-hlsearch").each(function(){var a=$(this),c=a.parent();a.replaceWith(a.text());c.text(c.text())})};hsm.prototype.addEventListener=function(a,c){this.eventDispatcher.addEventListener(a,c)};
hsm.prototype.removeEventListener=function(a,c){this.eventDispatcher.removeEventListener(a,c)};function popupBox(a){this.options=$.extend({title:"",onShow:null,onClose:null},a)}
popupBox.prototype.show=function(){var a=this,c=$("body");c.addClass("hs-popup-show");a.overlay=$('<div id="hs-popup-overlay"></div>').appendTo(c);var b=$('<div class="hs-popup-container"></div>');a.wrap=$('<div id="hs-popup-wrap"></div>').appendTo(c).append(b).on("click",function(e){($(e.target).is(b)||$(e.target).is(a.wrap))&&a.close()});a.cnt=$('<div class="hs-popup-content"></div>').appendTo(b);$('<div class="hs-popup-close-btn">\u00d7</div>').appendTo(a.cnt).on("click",function(){a.close()});
a.options.title&&$('<div class="hs-popup-title"></div>').appendTo(a.cnt).text(a.options.title);if("function"===typeof a.options.onShow)a.options.onShow(a,a.cnt);c.on("keydown.hsWebHelp.popup",function(e){switch(e.which){case 27:a.close()}});a.cnt.animate({opacity:1},"fast");a.overlay.animate({opacity:.6},"fast")};popupBox.prototype.close=function(){if("function"===typeof this.options.onClose)this.options.onClose();this.destroy()};
popupBox.prototype.destroy=function(){var a=this,c=$("body");c.off("keydown.hsWebHelp.popup");a.cnt&&a.cnt.animate({opacity:0},"fast",function(){a.wrap.remove();c.removeClass("hs-popup-show")});a.overlay&&a.overlay.animate({opacity:0},"fast",function(){$(this).remove()})};